<!DOCTYPE html>
<html>
  <head>
    <title>{{site.title}}</title>
  </head>
  <body>
    <script type="text/html" id="template">
      <h1 id="test" class="thing">My image gallery {{something}}</h1>

      <div show-if="items.length">
        There are {{items.length}} items
        <ul>
          <li for-each="items" test="true">
            This is item number {{number}} it is {{isEven number ? 'even' : 'odd'}}
          </li>
        </ul>
      </div>
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="../dist/breezy.js"></script>
    <script type="text/javascript">
      var html = document.getElementById('template').innerHTML;
      var render = breezy(html);
      var data = {
        isEven: function(number) {
          return number % 2;
        },

        items: []
      };
      var node = render(data);
      var counter = 0;

      document.body.appendChild(node);

      setInterval(function() {
        var start = new Date().getTime();
        data.items.push({
          number: counter++
        });

        for(var i = 0; i < data.items.length; i++) {
          data.items[i].number = data.items[i].number + counter;
        }

        render(data);
        console.log('Took ', (new Date().getTime() - start), 'ms')
      }, 1000);


      setInterval()
    </script>
  </body>
</html>
